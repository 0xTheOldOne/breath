(function(){var e={482:function(e,t,r){"use strict";r.r(t),t["default"]={title:e=>{const{normalize:t}=e;return t(["Breath"])},messages:{inhale:e=>{const{normalize:t}=e;return t(["Inhale"])},exhale:e=>{const{normalize:t}=e;return t(["Exhale"])},hold:e=>{const{normalize:t}=e;return t(["Hold"])},stomach:e=>{const{normalize:t}=e;return t(["(stomach)"])},chest:e=>{const{normalize:t}=e;return t(["(chest)"])},advanced:e=>{const{normalize:t}=e;return t(["Advanced"])}},sequences:{relax:{title:e=>{const{normalize:t}=e;return t(["Relaxation"])},description:e=>{const{normalize:t}=e;return t(["Calm your mind and ease your stress"])}},balance:{title:e=>{const{normalize:t}=e;return t(["Balance"])},description:e=>{const{normalize:t}=e;return t(["Relax your body and be more in the moment"])}},energy:{title:e=>{const{normalize:t}=e;return t(["Energy"])},description:e=>{const{normalize:t}=e;return t(["Strengthen your body and regain energy"])}},focus:{title:e=>{const{normalize:t}=e;return t(["Focus"])},description:e=>{const{normalize:t}=e;return t(["Sharpen your focus and improve your performance"])}},dynamism:{title:e=>{const{normalize:t}=e;return t(["Dynamism"])},description:e=>{const{normalize:t}=e;return t(["Boost your energy and focus"])}},chill:{title:e=>{const{normalize:t}=e;return t(["Relaxation"])},description:e=>{const{normalize:t}=e;return t(["Release the pressure and ease your mind"])}}}}},627:function(e,t,r){"use strict";r.r(t),t["default"]={title:e=>{const{normalize:t}=e;return t(["Breath"])},messages:{inhale:e=>{const{normalize:t}=e;return t(["Inspirez"])},exhale:e=>{const{normalize:t}=e;return t(["Expirez"])},hold:e=>{const{normalize:t}=e;return t(["Retenez"])},stomach:e=>{const{normalize:t}=e;return t(["(ventre)"])},chest:e=>{const{normalize:t}=e;return t(["(poitrine)"])},advanced:e=>{const{normalize:t}=e;return t(["Avancé"])}},sequences:{relax:{title:e=>{const{normalize:t}=e;return t(["Relaxation"])},description:e=>{const{normalize:t}=e;return t(["Calmez votre esprit et atténuez votre stress"])}},balance:{title:e=>{const{normalize:t}=e;return t(["Équilibre"])},description:e=>{const{normalize:t}=e;return t(["Relaxez votre corps et soyez plus dans le moment présent"])}},energy:{title:e=>{const{normalize:t}=e;return t(["Énergie"])},description:e=>{const{normalize:t}=e;return t(["Renforcez votre corps et retrouvez de l'énergie"])}},focus:{title:e=>{const{normalize:t}=e;return t(["Concentration"])},description:e=>{const{normalize:t}=e;return t(["Aiguisez votre concentration et améliorez vos performances"])}},dynamism:{title:e=>{const{normalize:t}=e;return t(["Dynamisme"])},description:e=>{const{normalize:t}=e;return t(["Stimulez votre énergie et votre attention"])}},chill:{title:e=>{const{normalize:t}=e;return t(["Détente"])},description:e=>{const{normalize:t}=e;return t(["Relâchez la pression et apaisez votre esprit"])}}}}},948:function(e,t,r){var n={"./en.json":482,"./fr.json":627};function o(e){var t=a(e);return r(t)}function a(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}o.keys=function(){return Object.keys(n)},o.resolve=a,e.exports=o,o.id=948},104:function(e,t,r){"use strict";var n=r(963),o=r(252),a=r(577);const i={class:"appname"},s={class:"router-view"},c=(0,o._)("div",{class:"disclaimer"},[(0,o.Uk)("I was greatly inspired by the famous relaxation application called "),(0,o._)("a",{href:"https://www.calm.com/fr",target:"_blank",rel:"noopener noreferrer"},"Calm"),(0,o.Uk)(" when i wrote this app.")],-1);function u(e,t,r,n,u,l){const d=(0,o.up)("router-view");return(0,o.wg)(),(0,o.iD)(o.HY,null,[(0,o._)("div",i,(0,a.zw)(e.$t("title")),1),(0,o._)("div",s,[(0,o.Wm)(d)]),c],64)}var l=r(907);const d={en:"English",fr:"Français"};function h(){let e=[];for(const t of Object.keys(d))e.push({code:t,name:d[t]});return e}function p(e={}){const t={countryCodeOnly:!1},r={...t,...e},n=void 0!==navigator.languages?navigator.languages[0]:navigator.language;if(!n)return;const o=r.countryCodeOnly?n.trim().split(/-|_/)[0]:n.trim();return o}var m={name:"App",beforeCreate(){this.$store.commit("resetLocalStorage"),this.$store.commit("initializeFromLocalStorage")},data(){return{locales:h(),browserLocale:p({countryCodeOnly:!0})}},methods:{setLocale(e){console.debug("🌐 Previous $i18n.locale : "+this.$i18n.locale),this.$store.commit({type:"setUserLocale",locale:e}),this.$i18n.locale=e}},mounted(){console.debug("🌐 userLocale = "+this.$store.state.userLocale+" / i18n.locale = "+this.$i18n.locale),""!==this.userLocale&&void 0!=this.userLocale&&null!=this.userLocale?(console.debug("🌐 using userLocale"),this.setLocale(this.userLocale)):(console.debug("🌐 using browserLocale"),this.setLocale(this.browserLocale))},computed:{...(0,l.rn)({userLocale:e=>e.userLocale,breathTechnique:e=>e.breathTechnique,breathTechniques:e=>e.breathTechniques})}},g=r(744);const b=(0,g.Z)(m,[["render",u]]);var v=b,f=r(201);const y={id:"breathCarousel",class:"carousel carousel-dark","data-bs-ride":"false","data-bs-interval":"false","data-bs-keyboard":"false"},q={class:"carousel-inner"},z=(0,o.uE)('<button class="carousel-control-prev" type="button" data-bs-target="#breathCarousel" data-bs-slide="prev" data-v-d3291648><span class="carousel-control-prev-icon" aria-hidden="true" data-v-d3291648></span><span class="visually-hidden" data-v-d3291648>Previous</span></button><button class="carousel-control-next" type="button" data-bs-target="#breathCarousel" data-bs-slide="next" data-v-d3291648><span class="carousel-control-next-icon" aria-hidden="true" data-v-d3291648></span><span class="visually-hidden" data-v-d3291648>Next</span></button>',2);function w(e,t,r,n,i,s){const c=(0,o.up)("Breather");return(0,o.wg)(),(0,o.iD)("div",y,[(0,o._)("div",q,[((0,o.wg)(!0),(0,o.iD)(o.HY,null,(0,o.Ko)(e.breathTechniques,((e,t)=>((0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",{class:(0,a.C_)(0==t?"carousel-item active":"carousel-item")},[(0,o.Wm)(c,{technique:e},null,8,["technique"])],2)])))),256))]),z])}const S={key:0,class:"breath"},k={class:"doughnut-container"},x={key:0},T={key:1},I={key:1,class:"breath-controller"},_={key:2,class:"technique-infos"},L={class:"title"},D={class:"description"},O={key:0},C={class:"badge rounded-pill bg-light text-dark"},P={key:3,class:"breath-controller bottom"};function R(e,t,r,n,i,s){const c=(0,o.up)("Doughnut");return(0,o.wg)(),(0,o.iD)("div",{class:(0,a.C_)(["breath-container",i.timeoutInProgress?"running":"idle"])},[i.timeoutInProgress?((0,o.wg)(),(0,o.iD)("div",S,[(0,o._)("div",k,[(0,o._)("div",{class:"ticker",style:(0,a.j5)("transform: rotate("+s.degrees+"deg);")},null,4),(0,o.Wm)(c,{class:"doughnut",ref:"chart","chart-data":s.chartData,"chart-options":i.chartOptions},null,8,["chart-data","chart-options"])]),(0,o._)("div",{class:"action",style:(0,a.j5)("transform: scale("+s.scale+");")},[""!=i.currentAction?((0,o.wg)(),(0,o.iD)("span",x,(0,a.zw)(e.$t("messages."+i.currentAction)),1)):(0,o.kq)("",!0),""!=i.currentActionDetail?((0,o.wg)(),(0,o.iD)("span",T,(0,a.zw)(e.$t("messages."+i.currentActionDetail)),1)):(0,o.kq)("",!0)],4)])):(0,o.kq)("",!0),i.timeoutInProgress?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",I,[(0,o._)("span",{class:"material-symbols-outlined",onClick:t[0]||(t[0]=(...e)=>s.startTimer&&s.startTimer(...e))}," play_circle ")])),i.timeoutInProgress?(0,o.kq)("",!0):((0,o.wg)(),(0,o.iD)("div",_,[(0,o._)("div",L,(0,a.zw)(e.$t("sequences."+r.technique.code+".title")),1),(0,o._)("div",D,(0,a.zw)(e.$t("sequences."+r.technique.code+".description")),1),r.technique.advanced?((0,o.wg)(),(0,o.iD)("div",O,[(0,o._)("span",C,(0,a.zw)(e.$t("messages.advanced")),1)])):(0,o.kq)("",!0)])),i.timeoutInProgress?((0,o.wg)(),(0,o.iD)("div",P,[(0,o._)("span",{class:"material-symbols-outlined",onClick:t[1]||(t[1]=(...e)=>s.stopTimer&&s.stopTimer(...e))}," stop_circle "),(0,o._)("span",{class:"material-symbols-outlined",onClick:t[2]||(t[2]=(...e)=>s.resetValues&&s.resetValues(...e))}," device_reset ")])):(0,o.kq)("",!0)],2)}var j=r(764),$=r(300);$.kL.register($.Dx,$.u,$.De,$.qi,$.uw);var A={name:"Breather",components:{Doughnut:j.$I},props:{technique:{type:Object,default:{},required:!0}},data(){return{timeout:null,timeoutInProgress:!1,currentAction:"",currentActionDetail:"",currentStepIndex:0,lastScaleValue:1,chartOptions:{borderWidth:0,circumference:360,rotation:0,responsive:!0,maintainAspectRatio:!0,animation:!1,plugins:{legend:{display:!1},tooltip:{enabled:!1}}}}},computed:{step(){return this.technique.sequence[this.currentStepIndex]},remaining(){var e=this.arraySum(this.technique.sequence.map((e=>e.duration))),t=this.arraySum(this.technique.sequence.map((e=>e.current)));return e-t},chartData(){this.arraySum(this.technique.sequence.map((e=>e.duration)));var e=this.technique.sequence.map((e=>e.duration)),t=this.technique.sequence.map((e=>e.current)),r=this.technique.sequence.map((e=>e.color)),n=this.technique.sequence.map((e=>e.color.toString().substr(0,7)));return t.push(this.remaining),n.push("transparent"),{datasets:[{data:t,backgroundColor:n,cutout:"90%",borderRadius:30,borderWidth:10,borderColor:"transparent"},{data:e,backgroundColor:r,cutout:"95%",borderRadius:0,borderWidth:10,borderColor:"transparent"}]}},scale(){var e=1,t=this.step.current/this.step.duration,r=this.currentStepIndex-1>0?this.currentStepIndex-1:this.technique.sequence.length-1,n=this.technique.sequence[r].type,o=this.currentStepIndex+1<this.technique.sequence.length?this.currentStepIndex+1:0,a=this.technique.sequence[o].type;switch(this.step.type){case"inhale":n!=this.step.type&&a!=this.step.type?e=1+t:a==this.step.type?(e=1+t/2,this.lastScaleValue=e):n==this.step.type&&(e=this.lastScaleValue+t/2);break;case"hold":e=2;break;case"exhale":e=2-t;break;default:e=1;break}return e},degrees(){var e=this.arraySum(this.technique.sequence.map((e=>e.duration))),t=this.arraySum(this.technique.sequence.map((e=>e.current)));return Math.floor(360*t/e)}},methods:{arraySum(e){return e.reduce(((e,t)=>e+t),0)},setTechnique(e){this.stopTimer(),e.sequence.forEach((e=>{e.current=0})),console.log(JSON.stringify(this.technique))},startTimer(){this.timeout=setTimeout(this.updateValues,10),this.timeoutInProgress||(this.timeoutInProgress=!0)},stopTimer(){clearTimeout(this.timeout),this.timeoutInProgress=!1},resetValues(){this.currentStepIndex=0,this.technique.sequence.forEach((e=>{e.current=0}))},updateValues(){this.step.current>=this.step.duration&&(this.currentStepIndex+=1),this.currentStepIndex>=this.technique.sequence.length&&this.resetValues(),this.step.current<this.step.duration&&(0==this.step.current&&(this.currentAction=this.step.type,this.currentActionDetail=this.step.detail),this.step.current+=1),this.startTimer()}},watch:{technique(e,t){this.setTechnique(e)}},created(){this.setTechnique(this.technique)}};const E=(0,g.Z)(A,[["render",R],["__scopeId","data-v-00036c46"]]);var M=E,V={name:"BreathView",components:{Breather:M},computed:{...(0,l.rn)({userLocale:e=>e.userLocale,breathTechnique:e=>e.breathTechnique,breathTechniques:e=>e.breathTechniques})}};const B=(0,g.Z)(V,[["render",w],["__scopeId","data-v-d3291648"]]);var N=B;const F=[{path:"/",name:"home",component:N}],U=(0,f.p7)({history:(0,f.r5)(),routes:F});var W=U,Z=r(168);const H="store",J=new Z.ZP({key:H,storage:window.localStorage,reducer:e=>({userLocale:e.userLocale,breathTechnique:e.breathTechnique})});var Y=(0,l.MT)({state:{userLocale:"",breathTechniqueIndex:0,breathTechnique:{},breathTechniques:[{code:"relax",durationInMinutes:5,advanced:!1,sequence:[{type:"inhale",detail:"",color:"#64b5f660",duration:400},{type:"exhale",detail:"",color:"#e5737360",duration:600}]},{code:"balance",durationInMinutes:2,advanced:!1,sequence:[{type:"inhale",detail:"",color:"#64b5f660",duration:400},{type:"hold",detail:"",color:"#81c78430",duration:200},{type:"exhale",detail:"",color:"#e5737360",duration:400}]},{code:"energy",durationInMinutes:2,advanced:!1,sequence:[{type:"inhale",detail:"stomach",color:"#64b5f660",duration:250},{type:"inhale",detail:"chest",color:"#7986cb60",duration:250},{type:"exhale",detail:"",color:"#e5737360",duration:500}]},{code:"focus",durationInMinutes:2,advanced:!1,sequence:[{type:"inhale",detail:"",color:"#64b5f660",duration:400},{type:"hold",detail:"",color:"#81c78430",duration:400},{type:"exhale",detail:"",color:"#e5737360",duration:400},{type:"hold",detail:"",color:"#81c78430",duration:400}]},{code:"dynamism",durationInMinutes:1,advanced:!0,sequence:[{type:"inhale",detail:"",color:"#64b5f660",duration:400},{type:"exhale",detail:"",color:"#e5737360",duration:200}]},{code:"chill",durationInMinutes:2,advanced:!0,sequence:[{type:"inhale",detail:"",color:"#64b5f660",duration:400},{type:"hold",detail:"",color:"#81c78430",duration:700},{type:"exhale",detail:"",color:"#e5737360",duration:800}]}]},getters:{},mutations:{resetLocalStorage(e){console.debug("Reset localStorage..."),localStorage.removeItem(H),this.commit("initializeFromLocalStorage"),console.debug("Reset localStorage... DONE")},initializeFromLocalStorage(e){console.debug("Retrieving settings from localStorage..."),null!=localStorage.getItem(H)&&void 0!=localStorage.getItem(H)?e=JSON.parse(localStorage.getItem(H)):(this.commit({type:"setTechnique",technique:e.breathTechniques[e.breathTechniqueIndex]}),localStorage.setItem(H,JSON.stringify(e))),console.debug("Retrieving settings from localStorage... DONE")},setUserLocale(e,t){console.debug(t),e.userLocale=t.locale},setTechnique(e,t){console.debug(t),e.breathTechnique=t.technique}},actions:{},modules:{},plugins:[J.plugin]}),K=r(150);function G(){const e=r(948),t={};return e.keys().forEach((r=>{const n=r.match(/([A-Za-z0-9-_]+)\./i);if(n&&n.length>1){const o=n[1];t[o]=e(r).default}})),t}var Q=(0,K.o)({locale:"en",fallbackLocale:"en",messages:G()});(0,n.ri)(v).use(Q).use(Y).use(W).mount("#app")}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var a=t[n]={exports:{}};return e[n](a,a.exports,r),a.exports}r.m=e,function(){var e=[];r.O=function(t,n,o,a){if(!n){var i=1/0;for(l=0;l<e.length;l++){n=e[l][0],o=e[l][1],a=e[l][2];for(var s=!0,c=0;c<n.length;c++)(!1&a||i>=a)&&Object.keys(r.O).every((function(e){return r.O[e](n[c])}))?n.splice(c--,1):(s=!1,a<i&&(i=a));if(s){e.splice(l--,1);var u=o();void 0!==u&&(t=u)}}return t}a=a||0;for(var l=e.length;l>0&&e[l-1][2]>a;l--)e[l]=e[l-1];e[l]=[n,o,a]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){var e={143:0};r.O.j=function(t){return 0===e[t]};var t=function(t,n){var o,a,i=n[0],s=n[1],c=n[2],u=0;if(i.some((function(t){return 0!==e[t]}))){for(o in s)r.o(s,o)&&(r.m[o]=s[o]);if(c)var l=c(r)}for(t&&t(n);u<i.length;u++)a=i[u],r.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return r.O(l)},n=self["webpackChunkbreath"]=self["webpackChunkbreath"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(104)}));n=r.O(n)})();
//# sourceMappingURL=app.be989b20.js.map